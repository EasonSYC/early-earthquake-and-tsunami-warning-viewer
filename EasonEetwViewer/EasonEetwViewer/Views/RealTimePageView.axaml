<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vm="using:EasonEetwViewer.ViewModels"
             xmlns:conv="using:EasonEetwViewer.Converters"
             xmlns:lang="using:EasonEetwViewer.Lang"
             xmlns:mapsui="using:Mapsui.UI.Avalonia"
             mc:Ignorable="d"
             d:DesignWidth="800"
             d:DesignHeight="450"
             x:Class="EasonEetwViewer.Views.RealtimePageView"
             x:DataType="vm:RealtimePageViewModel">

	<Design.DataContext>
		<vm:RealtimePageViewModel/>
	</Design.DataContext>

	<UserControl.Resources>
		<conv:EewTypeConverter x:Key="EewTypeConverter"/>
		<conv:EewSerialConverter x:Key="EewSerialConverter"/>
		<conv:EewIntensityTextConverter x:Key="EewIntensityTextConverter"/>
		<conv:EewIntensityColourConverter x:Key="EewIntensityColourConverter"/>
		<conv:DateTimeOffsetConverter x:Key="DateTimeConverter"/>
		<conv:DepthValueConverter x:Key="DepthValueConverter"/>
		<conv:DepthUnitConverter x:Key="DepthUnitConverter"/>
		<conv:EewHypocentreConverter x:Key="EewHypocentreConverter"/>
		<conv:MagnitudeValueConverter x:Key="MagnitudeValueConverter"/>
		<conv:MagnitudeUnitConverter x:Key="MagnitudeUnitConverter"/>
		<conv:EewAssumedHypocentreConverter x:Key="EewAssumedHypocentreConverter"/>
	</UserControl.Resources>

	<Grid>
		<DockPanel>
			<mapsui:MapControl x:Name="MapControl"/>
		</DockPanel>
		<Canvas>
			<!--Time Display-->
			<Border Canvas.Bottom="0"
                    Canvas.Left="0"
                    Background="{StaticResource SystemChromeBlackMediumColor}"
                    CornerRadius="0 5 0 0">
				<TextBlock FontSize="20"
                           FontWeight="Bold"
                           Text="{Binding TimeDisplayText}"/>
			</Border>

			<!--Eew Info Display-->
			<Border Canvas.Top="0"
                    Canvas.Left="0"
                    IsVisible="{Binding CurrentDisplayEew, Converter={x:Static ObjectConverters.IsNotNull}}"
                    Background="{StaticResource SystemChromeBlackMediumColor}"
                    Width="320"
                    CornerRadius="0 0 10 0">
				<StackPanel>
					<!--Eew Serial Display-->

					<TextBlock FontWeight="SemiBold"
                               Margin="5 5">
						<Run FontSize="24"
                             Text="{x:Static lang:RealtimePageResources.EewText}"/>
						<Run FontSize="24"
                             Text="{Binding CurrentDisplayEew, Converter={StaticResource EewTypeConverter}, Mode=OneWay}"/>
						<Run FontSize="18"
                             Text="{Binding CurrentDisplayEew, Converter={StaticResource EewSerialConverter}, Mode=OneWay}"/>
					</TextBlock>

					<!--Intensity Display-->

					<TextBlock HorizontalAlignment="Left"
                               FontSize="16"
                               FontWeight="SemiBold"
                               Text="{x:Static lang:Resources.DetailsMaxIntensityText}"
                               Margin="5 5"/>
					<TextBlock HorizontalAlignment="Right"
                               FontSize="52"
                               FontWeight="ExtraBold"
                               Text="{Binding CurrentDisplayEew.IntensityInfo.ForecastMaxInt, Converter={StaticResource EewIntensityTextConverter}}"
                               Foreground="{Binding CurrentDisplayEew.IntensityInfo.ForecastMaxInt, Converter={StaticResource EewIntensityColourConverter}}"
                               Margin="5 0"/>

					<!--Origin time Display-->

					<TextBlock HorizontalAlignment="Left"
                               FontSize="14"
                               FontWeight="SemiBold"
                               Text="{x:Static lang:Resources.DetailsTimeText}"
                               Margin="5 0"/>
					<TextBlock HorizontalAlignment="Right"
                               FontSize="24"
                               FontWeight="SemiBold"
                               Text="{Binding CurrentDisplayEew.Earthquake.OriginTime, Converter={StaticResource DateTimeConverter}, ConverterParameter=verylong}"
                               Margin="5 0"/>

					<!--Hypocentre Position Display-->

					<TextBlock HorizontalAlignment="Left"
                               FontSize="14"
                               FontWeight="SemiBold"
                               Text="{x:Static lang:Resources.DetailsHypocentreText}"
                               Margin="5 0"/>
					<TextBlock HorizontalAlignment="Right"
                               FontSize="24"
                               FontWeight="SemiBold"
                               Text="{Binding CurrentDisplayEew.Earthquake.Hypocentre, Converter={StaticResource EewHypocentreConverter}}"
                               Margin="5 0"/>

					<!--Assumed Hypocentre Text-->

					<TextBlock HorizontalAlignment="Left"
                               FontSize="18"
                               FontWeight="SemiBold"
                               Text="{x:Static lang:RealtimePageResources.EewAssumedSpecificText}"
                               TextWrapping="Wrap"
                               IsVisible="{Binding CurrentDisplayEew.Earthquake, Converter={StaticResource EewAssumedHypocentreConverter}, ConverterParameter=P}"
                               Margin="5 5"/>

					<!--Depth Display-->

					<TextBlock HorizontalAlignment="Left"
                               FontSize="14"
                               FontWeight="SemiBold"
                               Text="{x:Static lang:Resources.DetailsDepthText}"
                               IsVisible="{Binding CurrentDisplayEew.Earthquake, Converter={StaticResource EewAssumedHypocentreConverter}, ConverterParameter=N}"
                               Margin="5 0"/>
					<TextBlock HorizontalAlignment="Right"
                               FontWeight="SemiBold"
                               Margin="5 0"
                               IsVisible="{Binding CurrentDisplayEew.Earthquake, Converter={StaticResource EewAssumedHypocentreConverter}, ConverterParameter=N}">
						<Run FontSize="24"
                             Text="{Binding CurrentDisplayEew.Earthquake.Hypocentre.Depth, Converter={StaticResource DepthValueConverter}, Mode=OneWay}"/>
						<Run FontSize="18"
                             Text="{Binding CurrentDisplayEew.Earthquake.Hypocentre.Depth, Converter={StaticResource DepthUnitConverter}, Mode=OneWay}"/>
					</TextBlock>

					<!--Magnitude Display-->

					<TextBlock HorizontalAlignment="Left"
                               FontSize="14"  22="" 2=""
                               FontWeight="SemiBold"
                               Text="{x:Static lang:Resources.DetailsMagnitudeText}"
                               IsVisible="{Binding CurrentDisplayEew.Earthquake, Converter={StaticResource EewAssumedHypocentreConverter}, ConverterParameter=N}"
                               Margin="5 0"/>
					<TextBlock HorizontalAlignment="Right"
                               FontWeight="SemiBold"
                               Margin="5 0"
                               IsVisible="{Binding CurrentDisplayEew.Earthquake, Converter={StaticResource EewAssumedHypocentreConverter}, ConverterParameter=N}">
						<Run FontSize="18"
                             Text="{Binding CurrentDisplayEew.Earthquake.Magnitude, Converter={StaticResource MagnitudeUnitConverter}, Mode=OneWay}"/>
						<Run FontSize="24"
                             Text="{Binding CurrentDisplayEew.Earthquake.Magnitude, Converter={StaticResource MagnitudeValueConverter}, Mode=OneWay}}"/>
					</TextBlock>

					<!--Precision Display-->

					<TextBlock HorizontalAlignment="Left"
                               FontSize="14"
                               FontWeight="SemiBold"
                               Text="{x:Static lang:RealtimePageResources.EewPrecisionText}"
                               Margin="5 0"/>

					<!--One Point Warning Text-->

					<!--Update Time Display-->

					<TextBlock HorizontalAlignment="Left"
                               FontSize="14"
                               FontWeight="SemiBold"
                               Text="{x:Static lang:Resources.DetailsLastUpdatedText}"
                               Margin="5 0"/>
					<TextBlock HorizontalAlignment="Right"
                               FontSize="18"
                               FontWeight="SemiBold"
                               Text="{Binding CurrentDisplayEew.UpdateTime, Converter={StaticResource DateTimeConverter}, ConverterParameter=verylong}"
                               Margin="5 0"/>

					<!--Informational Text-->

					<TextBlock HorizontalAlignment="Left"
                               FontSize="14"
                               Text="{Binding CurrentDisplayEew.InformationalText}"
                               TextWrapping="Wrap"
                               Margin="8"/>
				</StackPanel>
			</Border>
		</Canvas>
	</Grid>
</UserControl>